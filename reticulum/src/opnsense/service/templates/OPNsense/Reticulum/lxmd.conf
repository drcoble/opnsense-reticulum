# LXMF Propagation Node configuration â€” generated by OPNsense
# Do not edit manually; changes will be overwritten on next Apply.
{% if OPNsense.Reticulum.propagation.enabled|default("0") == "1" %}

[lxmf]
  enable_propagation = {{ "Yes" if OPNsense.Reticulum.propagation.enable_node|default("1") == "1" else "No" }}
  announce_at_start = {{ "Yes" if OPNsense.Reticulum.propagation.announce_at_start|default("1") == "1" else "No" }}
  autopeer = {{ "Yes" if OPNsense.Reticulum.propagation.autopeer|default("1") == "1" else "No" }}
  autopeer_maxdepth = {{ OPNsense.Reticulum.propagation.autopeer_maxdepth|default("4") }}
  propagation_transfer_max_accepted_size = {{ OPNsense.Reticulum.propagation.lxmf_delivery_transfer_max_accepted_size|default("1000") }}

[storage]
  message_storage_limit = {{ OPNsense.Reticulum.propagation.message_storage_limit|default("2000") }}
  message_storage_path = {{ OPNsense.Reticulum.propagation.message_storage_path|default("/var/db/lxmd/messagestore") }}

[sync]
  periodic_sync_interval = {{ OPNsense.Reticulum.propagation.periodic_sync_interval|default("360") }}
  prioritise_local = {{ "Yes" if OPNsense.Reticulum.propagation.prioritise_local|default("1") == "1" else "No" }}
{% endif %}
