<?xml version="1.0" encoding="UTF-8"?>
<form>
    <!-- ============================================================ -->
    <!-- Common Fields                                                 -->
    <!-- ============================================================ -->
    <field>
        <id>interface.enabled</id>
        <label>Enabled</label>
        <type>checkbox</type>
        <help>Enable or disable this interface.</help>
    </field>
    <field>
        <id>interface.name</id>
        <label>Name</label>
        <type>text</type>
        <help>Display name for this interface. Used as the section header in the Reticulum config file.</help>
    </field>
    <field>
        <id>interface.interfaceType</id>
        <label>Interface Type</label>
        <type>dropdown</type>
        <help><![CDATA[The type of Reticulum interface to configure:
<ul>
<li><strong>AutoInterface:</strong> Automatically discovers peers on local network segments using IPv4/IPv6 multicast. Best for LAN/VLAN connectivity with no manual peer configuration required.</li>
<li><strong>UDPInterface:</strong> Point-to-point or broadcast UDP connectivity over IP networks. Suitable for WAN and VPN links between known peers.</li>
<li><strong>TCPServerInterface:</strong> Accepts incoming TCP connections from remote Reticulum nodes. Use this to create a publicly-accessible entry point into your network.</li>
<li><strong>TCPClientInterface:</strong> Establishes an outgoing TCP connection to a remote Reticulum TCPServerInterface. Use when NAT or firewall rules prevent inbound connections.</li>
<li><strong>RNodeInterface:</strong> Connects to an RNode LoRa hardware device for long-range, low-bandwidth radio communication.</li>
<li><strong>KISSInterface:</strong> Connects to a KISS-protocol TNC (Terminal Node Controller) over a serial port for packet radio communication.</li>
<li><strong>AX25KISSInterface:</strong> Like KISSInterface but uses AX.25 packet framing. Requires a licensed amateur radio callsign.</li>
<li><strong>SerialInterface:</strong> Generic serial interface for data radios or modems communicating over raw serial.</li>
<li><strong>I2PInterface:</strong> Connects to other Reticulum nodes through the I2P anonymity network for censorship-resistant, anonymous connectivity.</li>
</ul>]]></help>
    </field>
    <field>
        <id>interface.mode</id>
        <label>Interface Mode</label>
        <type>dropdown</type>
        <help><![CDATA[Operating mode for this interface:
<ul>
<li><strong>Full:</strong> Default mode — full routing capabilities</li>
<li><strong>Gateway:</strong> Interface connects to a network of client-only nodes</li>
<li><strong>Boundary:</strong> Interface connects two significantly different network segments</li>
<li><strong>Access Point:</strong> Wide-area radio interface serving temporary/mobile users</li>
<li><strong>Roaming:</strong> Mobile interface that may frequently change location</li>
</ul>]]></help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.outgoing</id>
        <label>Outgoing</label>
        <type>checkbox</type>
        <help>Allow this interface to carry outgoing (locally-originated) traffic. Disable to create a receive-only interface that can accept and forward announcements and traffic from other nodes, but will not transmit any locally-generated packets through this interface. Useful for monitoring or one-way link scenarios.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.bitrate</id>
        <label>Bitrate Override</label>
        <type>text</type>
        <help>Manual bitrate override in bits per second. Leave empty for automatic detection.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.announce_rate_target</id>
        <label>Announce Rate Target</label>
        <type>text</type>
        <help>Minimum target time in seconds between announcement retransmissions on this interface. Announcements are how Reticulum nodes advertise their destinations across the network. Setting a rate limit helps prevent announcement storms on bandwidth-constrained links such as LoRa or packet radio. Leave empty to use Reticulum defaults (no rate limiting).</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.announce_rate_grace</id>
        <label>Announce Rate Grace</label>
        <type>text</type>
        <help>Number of announcements permitted above the rate target before rate limiting begins. This grace period allows burst announcements when a node first comes online or when many new destinations appear simultaneously. Once the grace count is exhausted, the rate limit is enforced. Leave empty to use Reticulum defaults.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.announce_rate_penalty</id>
        <label>Announce Rate Penalty</label>
        <type>text</type>
        <help>Additional penalty time in seconds added to the rate limiting delay each time the announce rate target is exceeded. Higher values cause more aggressive back-off after an announcement burst, reducing bandwidth usage on congested links. Leave empty to use Reticulum defaults.</help>
        <advanced>true</advanced>
    </field>

    <!-- ============================================================ -->
    <!-- AutoInterface Fields                                          -->
    <!-- ============================================================ -->
    <field>
        <id>interface.auto_group_id</id>
        <label>Group ID</label>
        <type>text</type>
        <style>interfaceType is "AutoInterface"</style>
        <help>Multicast group identifier. Nodes with the same group ID will discover each other.</help>
    </field>
    <field>
        <id>interface.auto_discovery_scope</id>
        <label>Discovery Scope</label>
        <type>dropdown</type>
        <style>interfaceType is "AutoInterface"</style>
        <help><![CDATA[IPv6 multicast scope used for AutoInterface peer discovery:
<ul>
<li><strong>Link:</strong> Discovery limited to directly-attached network segment only (most common, default)</li>
<li><strong>Admin:</strong> Discovery within an administratively-scoped multicast zone</li>
<li><strong>Site:</strong> Discovery across an entire site or campus network (requires multicast routing)</li>
<li><strong>Organization:</strong> Discovery across an organizational network boundary (requires multicast routing)</li>
<li><strong>Global:</strong> Global multicast discovery (requires multicast routing infrastructure)</li>
</ul>
Use "Link" for most deployments. Wider scopes require multicast routing to be configured on your network infrastructure.]]></help>
    </field>
    <field>
        <id>interface.auto_discovery_port</id>
        <label>Discovery Port</label>
        <type>text</type>
        <style>interfaceType is "AutoInterface"</style>
        <help>UDP port used for peer discovery multicast.</help>
    </field>
    <field>
        <id>interface.auto_data_port</id>
        <label>Data Port</label>
        <type>text</type>
        <style>interfaceType is "AutoInterface"</style>
        <help>UDP port used for data transfer between discovered peers.</help>
    </field>
    <field>
        <id>interface.auto_allowed_interfaces</id>
        <label>Allowed Interfaces</label>
        <type>text</type>
        <style>interfaceType is "AutoInterface"</style>
        <help>Comma-separated list of OS network interface names to use for discovery (e.g., "eth0,wlan0"). Leave empty to use all available interfaces.</help>
    </field>
    <field>
        <id>interface.auto_ignored_interfaces</id>
        <label>Ignored Interfaces</label>
        <type>text</type>
        <style>interfaceType is "AutoInterface"</style>
        <help>Comma-separated list of OS network interface names to exclude from discovery.</help>
    </field>

    <!-- ============================================================ -->
    <!-- UDPInterface Fields                                           -->
    <!-- ============================================================ -->
    <field>
        <id>interface.udp_listen_ip</id>
        <label>Listen IP</label>
        <type>text</type>
        <style>interfaceType is "UDPInterface"</style>
        <help>IP address to listen on. Use 0.0.0.0 for all interfaces.</help>
    </field>
    <field>
        <id>interface.udp_listen_port</id>
        <label>Listen Port</label>
        <type>text</type>
        <style>interfaceType is "UDPInterface"</style>
        <help>UDP port to listen on for incoming connections.</help>
    </field>
    <field>
        <id>interface.udp_forward_ip</id>
        <label>Forward IP</label>
        <type>text</type>
        <style>interfaceType is "UDPInterface"</style>
        <help>IP address of the remote peer to forward packets to. Leave empty for listen-only mode.</help>
    </field>
    <field>
        <id>interface.udp_forward_port</id>
        <label>Forward Port</label>
        <type>text</type>
        <style>interfaceType is "UDPInterface"</style>
        <help>UDP port on the remote peer to forward packets to. Must match the listen port configured on the remote node's UDPInterface. Required when Forward IP is set.</help>
    </field>
    <field>
        <id>interface.udp_broadcast</id>
        <label>Broadcast Mode</label>
        <type>checkbox</type>
        <style>interfaceType is "UDPInterface"</style>
        <help>Enable UDP broadcast mode for local network discovery.</help>
    </field>

    <!-- ============================================================ -->
    <!-- TCPServerInterface Fields                                     -->
    <!-- ============================================================ -->
    <field>
        <id>interface.tcp_server_listen_ip</id>
        <label>Listen IP</label>
        <type>text</type>
        <style>interfaceType is "TCPServerInterface"</style>
        <help>IP address to bind the TCP listener on. Use 0.0.0.0 for all interfaces.</help>
    </field>
    <field>
        <id>interface.tcp_server_listen_port</id>
        <label>Listen Port</label>
        <type>text</type>
        <style>interfaceType is "TCPServerInterface"</style>
        <help>TCP port to listen on for incoming connections.</help>
    </field>
    <field>
        <id>interface.tcp_server_i2p_tunneled</id>
        <label>I2P Tunneled</label>
        <type>checkbox</type>
        <style>interfaceType is "TCPServerInterface"</style>
        <help>Indicate that this TCP listener is accessible behind an I2P tunnel.</help>
    </field>

    <!-- ============================================================ -->
    <!-- TCPClientInterface Fields                                     -->
    <!-- ============================================================ -->
    <field>
        <id>interface.tcp_client_target_host</id>
        <label>Target Host</label>
        <type>text</type>
        <style>interfaceType is "TCPClientInterface"</style>
        <help>Hostname or IP address of the remote TCP server to connect to.</help>
    </field>
    <field>
        <id>interface.tcp_client_target_port</id>
        <label>Target Port</label>
        <type>text</type>
        <style>interfaceType is "TCPClientInterface"</style>
        <help>TCP port on the remote Reticulum node to connect to. Must match the listen port configured on the remote node's TCPServerInterface. Common public Reticulum hubs use port 4242.</help>
    </field>
    <field>
        <id>interface.tcp_client_kissbytes</id>
        <label>KISS Framing Bytes</label>
        <type>text</type>
        <style>interfaceType is "TCPClientInterface"</style>
        <help>KISS framing byte count. Leave empty unless connecting to a KISS TNC over TCP.</help>
    </field>
    <field>
        <id>interface.tcp_client_i2p_tunneled</id>
        <label>I2P Tunneled</label>
        <type>checkbox</type>
        <style>interfaceType is "TCPClientInterface"</style>
        <help>Indicate that this connection goes through an I2P tunnel.</help>
    </field>

    <!-- ============================================================ -->
    <!-- RNodeInterface Fields                                         -->
    <!-- ============================================================ -->
    <field>
        <id>interface.rnode_port</id>
        <label>Serial Port</label>
        <type>text</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>Serial device path for the RNode hardware (e.g., /dev/ttyUSB0 or /dev/cuaU0).</help>
    </field>
    <field>
        <id>interface.rnode_frequency</id>
        <label>Frequency (Hz)</label>
        <type>text</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>Radio frequency in Hertz (e.g., 868000000 for 868 MHz, 915000000 for 915 MHz). Ensure compliance with local regulations.</help>
    </field>
    <field>
        <id>interface.rnode_bandwidth</id>
        <label>Bandwidth</label>
        <type>dropdown</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>LoRa channel bandwidth. Wider bandwidth = higher data rate but shorter range.</help>
    </field>
    <field>
        <id>interface.rnode_txpower</id>
        <label>TX Power (dBm)</label>
        <type>text</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>Transmit power in dBm (0-22). Higher values increase range but consume more power. Ensure compliance with local regulations.</help>
    </field>
    <field>
        <id>interface.rnode_spreadingfactor</id>
        <label>Spreading Factor</label>
        <type>dropdown</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>LoRa spreading factor. Higher values increase range and robustness but reduce data rate.</help>
    </field>
    <field>
        <id>interface.rnode_codingrate</id>
        <label>Coding Rate</label>
        <type>dropdown</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>LoRa forward error correction coding rate. Higher values add more redundancy.</help>
    </field>
    <field>
        <id>interface.rnode_id</id>
        <label>RNode ID</label>
        <type>text</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>RNode hardware ID for multi-RNode setups. Leave empty for single RNode configurations.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.rnode_flow_control</id>
        <label>Flow Control</label>
        <type>checkbox</type>
        <style>interfaceType is "RNodeInterface"</style>
        <help>Enable hardware (RTS/CTS) flow control on the serial connection.</help>
        <advanced>true</advanced>
    </field>

    <!-- ============================================================ -->
    <!-- KISSInterface Fields                                          -->
    <!-- ============================================================ -->
    <field>
        <id>interface.kiss_port</id>
        <label>Serial Port</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Serial device path for the KISS TNC (e.g., /dev/ttyUSB1 or /dev/cuaU1).</help>
    </field>
    <field>
        <id>interface.kiss_speed</id>
        <label>Baud Rate</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Serial port baud rate for TNC communication. Common values: 1200, 4800, 9600, 19200, 38400, 57600, 115200. Must exactly match the baud rate configured on your TNC hardware. Most hardware TNCs default to 9600 baud.</help>
    </field>
    <field>
        <id>interface.kiss_databits</id>
        <label>Data Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Number of data bits per serial frame. Almost all modern TNCs use 8 data bits. Use 7 only if explicitly required by your specific hardware documentation.</help>
    </field>
    <field>
        <id>interface.kiss_parity</id>
        <label>Parity</label>
        <type>dropdown</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Serial parity error-checking mode. The vast majority of TNCs use "None" (no parity). Only change this if your hardware documentation explicitly requires Even or Odd parity.</help>
    </field>
    <field>
        <id>interface.kiss_stopbits</id>
        <label>Stop Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Number of stop bits per serial frame. Most TNCs use 1 stop bit. Use 2 only if required by your specific hardware documentation.</help>
    </field>
    <field>
        <id>interface.kiss_flow_control</id>
        <label>Flow Control</label>
        <type>checkbox</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Enable hardware (RTS/CTS) flow control.</help>
    </field>
    <field>
        <id>interface.kiss_preamble</id>
        <label>Preamble (ms)</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>KISS preamble time in milliseconds. Leave empty for TNC default.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.kiss_txtail</id>
        <label>TX Tail (ms)</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>KISS transmit tail time in milliseconds. Leave empty for TNC default.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.kiss_persistence</id>
        <label>Persistence</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>KISS persistence value (0-255). Controls CSMA channel access probability.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.kiss_slottime</id>
        <label>Slot Time (ms)</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>KISS slot time in milliseconds for CSMA channel access.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.kiss_beacon_interval</id>
        <label>Beacon Interval (s)</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Beacon transmission interval in seconds. Leave empty to disable beacons.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>interface.kiss_beacon_data</id>
        <label>Beacon Data</label>
        <type>text</type>
        <style>interfaceType is "KISSInterface"</style>
        <help>Beacon payload text to transmit at each beacon interval.</help>
        <advanced>true</advanced>
    </field>

    <!-- ============================================================ -->
    <!-- AX25KISSInterface Fields                                      -->
    <!-- ============================================================ -->
    <field>
        <id>interface.ax25_port</id>
        <label>Serial Port</label>
        <type>text</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Serial device path for the AX.25 KISS TNC.</help>
    </field>
    <field>
        <id>interface.ax25_speed</id>
        <label>Baud Rate</label>
        <type>text</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Serial port baud rate for TNC communication. Common values: 1200 (standard VHF/UHF packet radio), 9600 (G3RUH 9600 baud), 38400, 57600, 115200. Must exactly match the baud rate configured on your TNC hardware.</help>
    </field>
    <field>
        <id>interface.ax25_databits</id>
        <label>Data Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Number of data bits per serial frame. Almost all modern TNCs use 8 data bits. Use 7 only if explicitly required by your specific hardware documentation.</help>
    </field>
    <field>
        <id>interface.ax25_parity</id>
        <label>Parity</label>
        <type>dropdown</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Serial parity error-checking mode. The vast majority of TNCs use "None" (no parity). Only change this if your hardware documentation explicitly requires Even or Odd parity.</help>
    </field>
    <field>
        <id>interface.ax25_stopbits</id>
        <label>Stop Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Number of stop bits per serial frame. Most TNCs use 1 stop bit. Use 2 only if required by your specific hardware documentation.</help>
    </field>
    <field>
        <id>interface.ax25_flow_control</id>
        <label>Flow Control</label>
        <type>checkbox</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Enable hardware (RTS/CTS) flow control.</help>
    </field>
    <field>
        <id>interface.ax25_callsign</id>
        <label>Callsign</label>
        <type>text</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>Amateur radio callsign (3-7 uppercase alphanumeric characters). Required for AX.25 operation.</help>
    </field>
    <field>
        <id>interface.ax25_ssid</id>
        <label>SSID</label>
        <type>text</type>
        <style>interfaceType is "AX25KISSInterface"</style>
        <help>AX.25 Secondary Station Identifier (0-15). The SSID is appended to the callsign (e.g., CALLSIGN-9) to distinguish multiple stations using the same callsign. Use 0 for the default/primary station. Common conventions: 1-5 for fixed digital stations, 7 for handhelds, 9 for mobile, 14-15 for BBS or network nodes.</help>
    </field>

    <!-- ============================================================ -->
    <!-- SerialInterface Fields                                        -->
    <!-- ============================================================ -->
    <field>
        <id>interface.serial_port</id>
        <label>Serial Port</label>
        <type>text</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Serial device path for the data radio or modem.</help>
    </field>
    <field>
        <id>interface.serial_speed</id>
        <label>Baud Rate</label>
        <type>text</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Serial port baud rate for the connected data radio or modem. Common values: 4800, 9600, 19200, 38400, 57600, 115200. Must exactly match the baud rate configured on the connected device. Consult your radio or modem documentation for the correct value.</help>
    </field>
    <field>
        <id>interface.serial_databits</id>
        <label>Data Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Number of data bits per serial frame. Almost all modern data radios and modems use 8 data bits. Use 7 only if explicitly required by your device documentation.</help>
    </field>
    <field>
        <id>interface.serial_parity</id>
        <label>Parity</label>
        <type>dropdown</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Serial parity error-checking mode. Most data radios and modems use "None" (no parity). Only change this if your device documentation explicitly requires Even or Odd parity.</help>
    </field>
    <field>
        <id>interface.serial_stopbits</id>
        <label>Stop Bits</label>
        <type>dropdown</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Number of stop bits per serial frame. Most data radios and modems use 1 stop bit. Use 2 only if required by your specific device documentation.</help>
    </field>
    <field>
        <id>interface.serial_flow_control</id>
        <label>Flow Control</label>
        <type>checkbox</type>
        <style>interfaceType is "SerialInterface"</style>
        <help>Enable hardware (RTS/CTS) flow control.</help>
    </field>

    <!-- ============================================================ -->
    <!-- I2PInterface Fields                                           -->
    <!-- ============================================================ -->
    <field>
        <id>interface.i2p_peers</id>
        <label>I2P Peers</label>
        <type>text</type>
        <style>interfaceType is "I2PInterface"</style>
        <help>Comma-separated list of I2P destination addresses to connect to. Addresses are in base32 format (52-character strings ending in .b32.i2p, or raw 52-character base32 hashes). I2P must be installed and running on this system for this interface to function. Peer addresses are published by Reticulum network operators who expose I2P endpoints — consult the Reticulum network directory or community resources to find peers.</help>
    </field>
</form>
