<?xml version="1.0" encoding="UTF-8"?>
<form>
    <field>
        <id>propagation.enabled</id>
        <label>Enable Propagation Node</label>
        <type>checkbox</type>
        <help>Enable LXMF propagation node functionality within the LXMF daemon. When enabled, this node stores and forwards LXMF messages on behalf of offline recipients and synchronizes its message store with other peered propagation nodes. Requires the LXMF service to be enabled in the General section.</help>
    </field>
    <field>
        <id>propagation.enable_node</id>
        <label>Enable Node Functionality</label>
        <type>checkbox</type>
        <help>Activate propagation node functionality within lxmd. When disabled, lxmd runs as a client-only LXMF daemon without storing or forwarding messages for other users. Enable this to make this node a store-and-forward relay on the LXMF network.</help>
    </field>
    <field>
        <id>propagation.announce_at_start</id>
        <label>Announce at Start</label>
        <type>checkbox</type>
        <help>Announce this propagation node on the Reticulum network immediately when lxmd starts. This makes the node discoverable by LXMF clients and peer propagation nodes. Recommended for always-on propagation nodes. Disable if you prefer manual or delayed announcement.</help>
    </field>
    <field>
        <id>propagation.autopeer</id>
        <label>Auto-Peer</label>
        <type>checkbox</type>
        <help>Automatically peer with other LXMF propagation nodes discovered on the network within the configured hop depth. Peered nodes synchronize their message stores, ensuring that messages are available even when the original recipient's preferred node is offline. Recommended for most deployments.</help>
    </field>
    <field>
        <id>propagation.autopeer_maxdepth</id>
        <label>Auto-Peer Max Depth</label>
        <type>text</type>
        <help>Maximum network hop depth for auto-peering with other LXMF propagation nodes (1-128). Nodes reachable within this many hops will be considered candidates for auto-peering. Lower values limit peering to nearby nodes and reduce synchronization bandwidth. Higher values allow peering with more distant nodes at the cost of increased network traffic. The default value of 4 is recommended for most deployments.</help>
    </field>
    <field>
        <id>propagation.message_storage_limit</id>
        <label>Message Storage Limit</label>
        <type>text</type>
        <help>Maximum number of LXMF messages to retain in the local message store. When the limit is reached, the oldest messages are purged to make space for new ones. Set to 0 for unlimited storage (constrained only by available disk space). Consider your available disk capacity and expected message volume when configuring this value. The default is 2000 messages.</help>
    </field>
    <field>
        <id>propagation.lxmf_delivery_transfer_max_accepted_size</id>
        <label>Max Accepted Message Size (KB)</label>
        <type>text</type>
        <help>Maximum accepted size for a single inbound LXMF message transfer in kilobytes. Messages larger than this limit are rejected before they are fully received. Smaller values protect against large messages consuming excessive bandwidth and storage on constrained links. Default is 1000 KB (approximately 1 MB). Increase if users need to exchange larger attachments or embedded resources.</help>
    </field>
    <field>
        <id>propagation.periodic_sync_interval</id>
        <label>Sync Interval (seconds)</label>
        <type>text</type>
        <help>Time in seconds between periodic message synchronization cycles with peered propagation nodes. Shorter intervals keep message stores more current but consume more bandwidth. Longer intervals reduce bandwidth usage at the cost of increased message delivery latency. Minimum is 10 seconds. Default is 360 seconds (6 minutes). For low-bandwidth or radio links, consider a much higher value.</help>
    </field>
    <field>
        <id>propagation.prioritise_local</id>
        <label>Prioritise Local Delivery</label>
        <type>checkbox</type>
        <help>When enabled, the LXMF daemon attempts direct local delivery to destination clients that are reachable on this Reticulum instance before routing messages through the propagation network. This reduces latency for locally-connected recipients. Recommended for most deployments. Disable only in specialized configurations where propagation routing is always preferred over direct delivery.</help>
    </field>
    <field>
        <id>propagation.message_storage_path</id>
        <label>Message Storage Path</label>
        <type>text</type>
        <help>Filesystem path for the LXMF message database directory. The service user must have read and write access to this path. Default is /var/db/lxmd/messagestore. Change only if you need to store messages on a different volume (e.g., external storage for larger capacity).</help>
        <advanced>true</advanced>
    </field>
</form>
