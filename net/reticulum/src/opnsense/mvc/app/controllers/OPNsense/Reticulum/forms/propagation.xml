<?xml version="1.0" encoding="UTF-8"?>
<form>
    <field>
        <id>propagation.enabled</id>
        <label>Enable Propagation Node</label>
        <type>checkbox</type>
        <help>Enable the LXMF propagation node daemon (lxmd). This provides store-and-forward messaging for the Reticulum network. Requires the Reticulum daemon to be enabled and running.</help>
    </field>
    <field>
        <id>propagation.enable_node</id>
        <label>Enable Node Functionality</label>
        <type>checkbox</type>
        <help>Enable the propagation node functionality within the LXMF daemon. When enabled, this node will store and forward LXMF messages on behalf of offline recipients, and will synchronize its message store with other peered propagation nodes. This option requires "Enable Propagation Node" to be checked and the Reticulum daemon to be running with instance sharing enabled.</help>
    </field>
    <field>
        <id>propagation.announce_at_start</id>
        <label>Announce at Start</label>
        <type>checkbox</type>
        <help>Announce the propagation node on the Reticulum network when lxmd starts. This makes the node discoverable by LXMF clients.</help>
    </field>
    <field>
        <id>propagation.autopeer</id>
        <label>Auto-Peer</label>
        <type>checkbox</type>
        <help>Automatically peer with other propagation nodes discovered on the network. Peered nodes synchronize their message stores.</help>
    </field>
    <field>
        <id>propagation.autopeer_maxdepth</id>
        <label>Auto-Peer Max Depth</label>
        <type>text</type>
        <help>Maximum network hop depth for auto-peering with other LXMF propagation nodes (1-128). Nodes reachable within this many hops will be considered candidates for auto-peering. Lower values limit peering to nearby nodes and reduce synchronization bandwidth; higher values allow peering with more distant nodes at the cost of more network traffic. A value of 4 is recommended for most deployments.</help>
    </field>
    <field>
        <id>propagation.message_storage_limit</id>
        <label>Message Storage Limit</label>
        <type>text</type>
        <help>Maximum number of LXMF messages to retain in the local message store. When the limit is reached, the oldest messages are removed to make space for new ones. Set to 0 for unlimited storage (constrained only by available disk space). Consider your available disk capacity and expected message volume when setting this value. Default is 2000 messages.</help>
    </field>
    <field>
        <id>propagation.message_storage_path</id>
        <label>Message Storage Path</label>
        <type>text</type>
        <help>Filesystem path for the LXMF message database.</help>
        <advanced>true</advanced>
    </field>
    <field>
        <id>propagation.lxmf_delivery_transfer_max_accepted_size</id>
        <label>Max Message Size (KB)</label>
        <type>text</type>
        <help>Maximum accepted size for a single inbound LXMF message transfer in kilobytes. Messages larger than this limit will be rejected before they are fully received. Smaller values protect against large messages consuming excessive bandwidth and storage on constrained links. Default is 1000 KB (approximately 1 MB). Increase if users need to exchange larger attachments or embedded resources.</help>
    </field>
    <field>
        <id>propagation.periodic_sync_interval</id>
        <label>Sync Interval (seconds)</label>
        <type>text</type>
        <help>Time in seconds between periodic message synchronization cycles with peered propagation nodes. Shorter intervals keep message stores more current but consume more bandwidth. Longer intervals reduce bandwidth usage at the cost of message delivery latency. Minimum value is 10 seconds. Default is 360 seconds (6 minutes). For low-bandwidth links, consider increasing this value significantly.</help>
    </field>
    <field>
        <id>propagation.prioritise_local</id>
        <label>Prioritise Local Delivery</label>
        <type>checkbox</type>
        <help>When enabled, the LXMF daemon will attempt direct local delivery to destination clients that are reachable on this Reticulum instance before routing messages through the propagation network. This reduces latency for messages destined for locally-connected nodes. Recommended for most deployments. Disable only in specialized configurations where propagation routing is always preferred.</help>
    </field>
</form>
